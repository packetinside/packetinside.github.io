<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ site.title | default: page.title }}</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.1.0/github-markdown.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    
    <style>
        /* 기본 레이아웃 */
        body { 
            box-sizing: border-box; 
            min-width: 200px; 
            max-width: 80%; 
            margin: 0 auto; 
            padding: 0; 
            background-color: #fcfcfc;
            font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif;
        }

        /* 헤더 스타일 */
        header {
            background-color: #212529;
            color: #ffffff;
            padding: 20px 40px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        header h1 { font-size: 1.8em; margin: 0; color: #ffffff; border: none; }
        header p { margin: 5px 0 0 0; font-size: 0.9em; color: #adb5bd; }
        
        .github-btn {
            background-color: #343a40; color: #fff !important; padding: 8px 15px;
            border-radius: 4px; text-decoration: none !important; font-size: 0.9em;
            border: 1px solid #495057; transition: 0.3s;
        }
        .github-btn:hover { background-color: #495057; border-color: #ced4da; }

        .markdown-body { padding: 0 40px 40px 40px; background: transparent; }

        /* [DataTables 커스텀 스타일] */
        
        /* [핵심 수정] 검색창과 테이블 사이의 간격 벌리기 */
        .dataTables_wrapper .dataTables_filter,
        .dataTables_wrapper .dataTables_length {
            margin-bottom: 5px !important; /* 아래쪽 여백 강제 추가 */
            padding-bottom: 5px;            /* 미세 조정 */
        }

        /* 인풋 박스 스타일 */
        .dataTables_wrapper .dataTables_filter input {
            border: 1px solid #ced4da; padding: 5px 10px; border-radius: 4px; margin-left: 5px;
        }
        .dataTables_wrapper .dataTables_length select {
            border: 1px solid #ced4da; padding: 5px; border-radius: 4px;
        }
        
        /* 테이블 스타일 */
        table.dataTable,
        .markdown-body table {
            width: 100% !important;
            display: table !important; 
            border-collapse: collapse !important;
            border: none !important;
            box-shadow: none !important;
            margin-top: 0 !important; /* 테이블 자체 마진은 0으로 (위에서 컨트롤함) */
        }
        
        /* 헤더 셀 */
        table.dataTable thead th {
            background-color: #f8f9fa;
            border-bottom: 2px solid #dee2e6 !important;
            border-top: none !important;
            border-left: none !important;
            border-right: none !important;
            padding: 8px 10px !important;
            white-space: nowrap; 
        }
        
        /* 데이터 셀 */
        table.dataTable tbody td {
            padding: 8px 10px !important;
            border-bottom: 1px solid #e9ecef !important;
            border-left: none !important;
            border-right: none !important;
            border-top: none !important;
        }
        
        table.dataTable.no-footer {
            border-bottom: 1px solid #dee2e6 !important;
        }
        
        /* 페이지네이션 버튼 */
        .dataTables_wrapper .dataTables_paginate .paginate_button.current, 
        .dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
            background: #d9534f !important; color: white !important; border: 1px solid #d9534f !important;
        }
        .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
            background: #e9ecef !important; color: black !important; border: 1px solid #dee2e6 !important;
        }

        /* 링크 스타일 */
        a { color: #0d6efd; text-decoration: none; }
        a:hover { text-decoration: underline; }

        @media (max-width: 767px) { 
            header { flex-direction: column; text-align: center; padding: 20px; }
            .markdown-body { padding: 15px; }
        }
    </style>
    
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
</head>
<body>
    <header>
        <div>
            <h1>{{ site.title | default: "PACKET INSIDE" }}</h1>
            <p>{{ site.description | default: "Network Security" }}</p>
        </div>
        {% if site.github.owner_url %}
        <a href="{{ site.github.owner_url }}" class="github-btn">
            <i class="fab fa-github"></i> GitHub Profile
        </a>
        {% endif %}
    </header>

    <div class="markdown-body">
        {{ content }}
        
        <footer style="margin-top: 50px; text-align: center; font-size: 0.8em; color: #777;">
            <hr>
            <p>Copyright &copy; PacketInside Rules Archive. All rights reserved.</p>
        </footer>
    </div>
</body>
</html>
